<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Submit Papers - SIT Archive</title>
    <meta name="description"
        content="Submit your question papers to SIT Archive. Help fellow students by contributing exam papers.">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700;800;900&family=Noto+Sans:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Animation Styles -->
    <link rel="stylesheet" href="css/animations.css">

    <!-- Theme Configuration -->
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#C8102E",
                        "primary-hover": "#A60D26",
                        "bg-light": "#FFFFFF",
                        "bg-light-secondary": "#F8F6F6",
                        "bg-light-tertiary": "#F0EEEE",
                        "text-light": "#181112",
                        "text-light-muted": "#6B7280",
                        "border-light": "#E5E7EB",
                        "bg-dark": "#0D0D0D",
                        "bg-dark-secondary": "#161616",
                        "bg-dark-tertiary": "#1A1A1A",
                        "text-dark": "#FFFFFF",
                        "text-dark-muted": "#A1A1AA",
                        "border-dark": "#2A2A2A",
                    },
                    fontFamily: {
                        "display": ["Lexend", "sans-serif"],
                        "body": ["Noto Sans", "sans-serif"]
                    },
                    boxShadow: {
                        'glow': '0 0 40px -10px rgba(200, 16, 46, 0.3)',
                        'glow-sm': '0 0 20px -5px rgba(200, 16, 46, 0.2)',
                    }
                },
            },
        }
    </script>

    <!-- Theme Script -->
    <script src="js/theme.js"></script>

    <style>
        body {
            font-family: 'Lexend', sans-serif;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        .dark ::-webkit-scrollbar-track {
            background: #0D0D0D;
        }

        ::-webkit-scrollbar-thumb {
            background: #CBD5E1;
            border-radius: 4px;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: #2A2A2A;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94A3B8;
        }

        .dark ::-webkit-scrollbar-thumb:hover {
            background: #3A3A3A;
        }

        * {
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
        }

        .form-card {
            transition: all 0.2s ease;
        }

        .form-card:hover {
            transform: translateY(-2px);
        }

        select option {
            background-color: #161616;
            color: #FFFFFF;
        }

        .dark select option {
            background-color: #161616;
            color: #FFFFFF;
        }
    </style>
</head>

<body
    class="bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark font-display antialiased min-h-screen flex flex-col selection:bg-primary selection:text-white">

    <!-- Navigation -->
    <nav
        class="sticky top-0 z-50 w-full border-b border-border-light dark:border-border-dark bg-bg-light/95 dark:bg-bg-dark/95 backdrop-blur-md">
        <div class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8">
            <a class="flex items-center gap-3 group" href="index.html">
                <div
                    class="flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-colors duration-300">
                    <span class="material-symbols-outlined text-[24px]">school</span>
                </div>
                <span class="text-xl font-bold tracking-tight">SIT Archive</span>
            </a>

            <div class="hidden md:flex items-center gap-8">
                <div class="flex items-center gap-6">
                    <a class="text-sm font-medium text-text-light-muted dark:text-text-dark-muted hover:text-text-light dark:hover:text-text-dark transition-colors"
                        href="index.html">Home</a>
                    <a class="text-sm font-medium text-text-light-muted dark:text-text-dark-muted hover:text-text-light dark:hover:text-text-dark transition-colors"
                        href="browse.html">Browse Papers</a>
                    <a class="text-sm font-semibold text-primary" href="submit.html">Submit Papers</a>
                    <a class="text-sm font-medium text-text-light-muted dark:text-text-dark-muted hover:text-text-light dark:hover:text-text-dark transition-colors"
                        href="about.html">About Us</a>
                    <a class="text-sm font-medium text-text-light-muted dark:text-text-dark-muted hover:text-text-light dark:hover:text-text-dark transition-colors"
                        href="docs.html">Docs</a>
                    <a class="text-sm font-medium text-text-light-muted dark:text-text-dark-muted hover:text-text-light dark:hover:text-text-dark transition-colors"
                        href="faq.html">FAQ</a>
                </div>

                <button onclick="toggleTheme()"
                    class="flex items-center justify-center w-10 h-10 rounded-lg bg-bg-light-secondary dark:bg-bg-dark-secondary hover:bg-bg-light-tertiary dark:hover:bg-bg-dark-tertiary border border-border-light dark:border-border-dark transition-colors">
                    <span id="theme-icon" class="material-symbols-outlined text-[20px]">dark_mode</span>
                </button>
            </div>

            <div class="md:hidden flex items-center gap-3">
                <button onclick="toggleTheme()"
                    class="flex items-center justify-center w-10 h-10 rounded-lg bg-bg-light-secondary dark:bg-bg-dark-secondary border border-border-light dark:border-border-dark">
                    <span id="theme-icon-mobile" class="material-symbols-outlined text-[20px]">dark_mode</span>
                </button>
                <button class="text-text-light dark:text-text-dark" id="mobile-menu-btn">
                    <span class="material-symbols-outlined">menu</span>
                </button>
            </div>
        </div>

        <div id="mobile-menu"
            class="hidden md:hidden border-t border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark">
            <div class="px-4 py-4 space-y-3">
                <a class="block text-sm font-medium text-text-light-muted dark:text-text-dark-muted py-2"
                    href="index.html">Home</a>
                <a class="block text-sm font-medium text-text-light-muted dark:text-text-dark-muted py-2"
                    href="browse.html">Browse Papers</a>
                <a class="block text-sm font-semibold text-primary py-2" href="submit.html">Submit Papers</a>
                <a class="block text-sm font-medium text-text-light-muted dark:text-text-dark-muted py-2"
                    href="about.html">About Us</a>
                <a class="block text-sm font-medium text-text-light-muted dark:text-text-dark-muted py-2"
                    href="docs.html">Docs</a>
                <a class="block text-sm font-medium text-text-light-muted dark:text-text-dark-muted py-2"
                    href="faq.html">FAQ</a>
            </div>
        </div>
    </nav>

    <main class="flex-grow">
        <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-8">
            <!-- Page Header -->
            <div class="text-center mb-10 animate-on-scroll">
                <div
                    class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium mb-4 anim-pulse">
                    <span class="material-symbols-outlined text-[18px]">volunteer_activism</span>
                    Contribute to the Archive
                </div>
                <h1 class="text-3xl sm:text-4xl font-bold tracking-tight mb-3">Submit Question Papers</h1>
                <p class="text-text-light-muted dark:text-text-dark-muted max-w-2xl mx-auto">Help your fellow students
                    by contributing exam papers. Fill in the details below and attach your paper to send via email.</p>
            </div>

            <!-- Instructions Card -->
            <div
                class="mb-8 p-6 rounded-2xl border border-border-light dark:border-border-dark bg-bg-light-secondary dark:bg-bg-dark-secondary animate-on-scroll hover-lift-sm">
                <div class="flex items-start gap-4">
                    <div
                        class="flex items-center justify-center w-12 h-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 shrink-0">
                        <span class="material-symbols-outlined text-2xl">info</span>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2">How it works</h3>
                        <ul class="text-sm text-text-light-muted dark:text-text-dark-muted space-y-1">
                            <li class="flex items-center gap-2"><span
                                    class="material-symbols-outlined text-[16px] text-primary">check_circle</span> Fill
                                in the paper details below</li>
                            <li class="flex items-center gap-2"><span
                                    class="material-symbols-outlined text-[16px] text-primary">check_circle</span> Click
                                "Generate Email" to open your email client</li>
                            <li class="flex items-center gap-2"><span
                                    class="material-symbols-outlined text-[16px] text-primary">check_circle</span>
                                Attach the question paper PDF to the email</li>
                            <li class="flex items-center gap-2"><span
                                    class="material-symbols-outlined text-[16px] text-primary">check_circle</span> Send
                                the email and we'll add it to the archive!</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Submit Form -->
            <form id="submit-form" class="space-y-6">
                <!-- Institute Selection -->
                <div
                    class="form-card p-6 rounded-2xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark-secondary animate-on-scroll hover-border-glow">
                    <div class="flex items-center gap-3 mb-4">
                        <div
                            class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10 text-primary shrink-0">
                            <span class="material-symbols-outlined">domain</span>
                        </div>
                        <div>
                            <h3 class="font-semibold">Institute</h3>
                            <p class="text-xs text-text-light-muted dark:text-text-dark-muted">Select your institute
                            </p>
                        </div>
                    </div>
                    <select id="institute" required
                        class="w-full h-12 px-4 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors">
                        <option value="">Select Institute</option>
                        <option value="SITHYD">SIT Hyderabad</option>
                        <option value="SITNGP">SIT Nagpur</option>
                        <option value="SITPUNE">SIT Pune</option>
                    </select>
                </div>

                <!-- Branch Selection -->
                <div
                    class="form-card p-6 rounded-2xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark-secondary animate-on-scroll hover-border-glow">
                    <div class="flex items-center gap-3 mb-4">
                        <div
                            class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10 text-primary shrink-0">
                            <span class="material-symbols-outlined">computer</span>
                        </div>
                        <div>
                            <h3 class="font-semibold">Branch</h3>
                            <p id="branch-description" class="text-xs text-text-light-muted dark:text-text-dark-muted">
                                Select your branch/stream</p>
                        </div>
                    </div>
                    <!-- Branch Dropdown (for HYD and Nagpur) -->
                    <select id="branch" required
                        class="w-full h-12 px-4 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors">
                        <option value="">Select Branch</option>
                    </select>
                    <!-- Branch Text Input (for Pune) -->
                    <input type="text" id="branch-input" placeholder="e.g., Computer Science"
                        class="hidden w-full h-12 px-4 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark placeholder-text-light-muted dark:placeholder-text-dark-muted focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors" />
                </div>

                <!-- Batch -->
                <div id="batch-card"
                    class="form-card p-6 rounded-2xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark-secondary">
                    <div class="flex items-center gap-3 mb-4">
                        <div
                            class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10 text-primary shrink-0">
                            <span class="material-symbols-outlined">groups</span>
                        </div>
                        <div>
                            <h3 class="font-semibold">Batch</h3>
                            <p id="batch-description" class="text-xs text-text-light-muted dark:text-text-dark-muted">
                                Select your batch year</p>
                        </div>
                    </div>
                    <!-- Batch Dropdown (for HYD and Nagpur) -->
                    <select id="batch" required
                        class="w-full h-12 px-4 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors">
                        <option value="">Select Batch</option>
                    </select>
                    <!-- Batch Text Input (for Pune) -->
                    <input type="text" id="batch-input" placeholder="e.g., 2023-27"
                        class="hidden w-full h-12 px-4 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark placeholder-text-light-muted dark:placeholder-text-dark-muted focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors" />
                </div>

                <!-- Semester -->
                <div
                    class="form-card p-6 rounded-2xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark-secondary">
                    <div class="flex items-center gap-3 mb-4">
                        <div
                            class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10 text-primary shrink-0">
                            <span class="material-symbols-outlined">school</span>
                        </div>
                        <div>
                            <h3 class="font-semibold">Semester</h3>
                            <p class="text-xs text-text-light-muted dark:text-text-dark-muted">Which semester?</p>
                        </div>
                    </div>
                    <select id="semester" required
                        class="w-full h-12 px-4 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors">
                        <option value="">Select Semester</option>
                        <option value="Sem 1">Semester 1</option>
                        <option value="Sem 2">Semester 2</option>
                        <option value="Sem 3">Semester 3</option>
                        <option value="Sem 4">Semester 4</option>
                        <option value="Sem 5">Semester 5</option>
                        <option value="Sem 6">Semester 6</option>
                        <option value="Sem 7">Semester 7</option>
                        <option value="Sem 8">Semester 8</option>
                    </select>
                </div>

                <!-- Subject Details -->
                <div
                    class="form-card p-6 rounded-2xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark-secondary">
                    <div class="flex items-center gap-3 mb-4">
                        <div
                            class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10 text-primary shrink-0">
                            <span class="material-symbols-outlined">description</span>
                        </div>
                        <div>
                            <h3 class="font-semibold">Subject Details</h3>
                            <p class="text-xs text-text-light-muted dark:text-text-dark-muted">Enter subject name and
                                code</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Subject Name</label>
                            <input type="text" id="subject-name" required placeholder="e.g., Calculus"
                                class="w-full h-12 px-4 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark placeholder-text-light-muted dark:placeholder-text-dark-muted focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors" />
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Subject Code</label>
                            <input type="text" id="subject-code" required placeholder="e.g., 0707210101"
                                class="w-full h-12 px-4 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark placeholder-text-light-muted dark:placeholder-text-dark-muted focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors" />
                        </div>
                    </div>
                </div>

                <!-- Exam Type -->
                <div
                    class="form-card p-6 rounded-2xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark-secondary">
                    <div class="flex items-center gap-3 mb-4">
                        <div
                            class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10 text-primary shrink-0">
                            <span class="material-symbols-outlined">quiz</span>
                        </div>
                        <div>
                            <h3 class="font-semibold">Exam Type</h3>
                            <p class="text-xs text-text-light-muted dark:text-text-dark-muted">What type of exam is
                                this?</p>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-3">
                        <label
                            class="flex items-center gap-2 px-4 py-3 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark cursor-pointer hover:border-primary/50 transition-colors has-[:checked]:border-primary has-[:checked]:bg-primary/10">
                            <input type="radio" name="exam-type" value="Mid-Sem"
                                class="w-4 h-4 text-primary focus:ring-primary" />
                            <span class="text-sm font-medium">Mid-Sem</span>
                        </label>
                        <label
                            class="flex items-center gap-2 px-4 py-3 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark cursor-pointer hover:border-primary/50 transition-colors has-[:checked]:border-primary has-[:checked]:bg-primary/10">
                            <input type="radio" name="exam-type" value="End-Sem" checked
                                class="w-4 h-4 text-primary focus:ring-primary" />
                            <span class="text-sm font-medium">End-Sem</span>
                        </label>
                        <label
                            class="flex items-center gap-2 px-4 py-3 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark cursor-pointer hover:border-primary/50 transition-colors has-[:checked]:border-primary has-[:checked]:bg-primary/10">
                            <input type="radio" name="exam-type" value="Supplementary"
                                class="w-4 h-4 text-primary focus:ring-primary" />
                            <span class="text-sm font-medium">Supplementary</span>
                        </label>
                    </div>
                </div>

                <!-- Additional Notes -->
                <div
                    class="form-card p-6 rounded-2xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark-secondary">
                    <div class="flex items-center gap-3 mb-4">
                        <div
                            class="flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10 text-primary shrink-0">
                            <span class="material-symbols-outlined">notes</span>
                        </div>
                        <div>
                            <h3 class="font-semibold">Additional Notes</h3>
                            <p class="text-xs text-text-light-muted dark:text-text-dark-muted">Any extra information
                                (optional)</p>
                        </div>
                    </div>
                    <textarea id="notes" rows="3"
                        placeholder="e.g., This paper has 2 parts, or any other relevant info..."
                        class="w-full px-4 py-3 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark text-text-light dark:text-text-dark placeholder-text-light-muted dark:placeholder-text-dark-muted focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors resize-none"></textarea>
                </div>

                <!-- Submit Button -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <button type="submit"
                        class="flex-1 inline-flex items-center justify-center gap-2 h-14 px-8 rounded-xl bg-primary hover:bg-primary-hover text-white font-bold text-lg transition-colors shadow-glow-sm hover:shadow-glow">
                        <span class="material-symbols-outlined">send</span>
                        Submit via Email
                    </button>
                    <button type="reset"
                        class="inline-flex items-center justify-center gap-2 h-14 px-8 rounded-xl border border-border-light dark:border-border-dark bg-bg-light dark:bg-bg-dark-secondary hover:bg-bg-light-tertiary dark:hover:bg-bg-dark-tertiary text-text-light dark:text-text-dark font-medium transition-colors">
                        <span class="material-symbols-outlined">restart_alt</span>
                        Reset Form
                    </button>
                </div>
            </form>

            <!-- Reminder -->
            <div
                class="mt-8 p-5 rounded-2xl border border-yellow-300 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20">
                <div class="flex items-start gap-3">
                    <span
                        class="material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-xl shrink-0">warning</span>
                    <div>
                        <h4 class="font-semibold text-yellow-800 dark:text-yellow-300 mb-1">Don't forget to attach the
                            paper!</h4>
                        <p class="text-sm text-yellow-700 dark:text-yellow-400">After clicking "Generate Email", please
                            attach the question paper PDF to the email before sending. Without the
                            attachment, we won't be able to add it to the archive.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer
        class="border-t border-border-light dark:border-border-dark bg-bg-light-secondary dark:bg-bg-dark-secondary mt-auto">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-3">
                    <span class="material-symbols-outlined text-primary">school</span>
                    <span class="font-bold">SIT Archive</span>
                </div>
                <p class="text-xs text-text-light-muted dark:text-text-dark-muted">¬© 2026 SIT Archive. All rights
                    reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Branch options per institute
        const branchOptions = {
            'SITHYD': [
                { value: 'CSE', label: 'CSE' },
                { value: 'CSE-AIML', label: 'CSE AIML' },
                { value: 'CST', label: 'CST' }
            ],
            'SITNGP': [
                { value: 'CSE', label: 'CSE' }
            ],
            'SITPUNE': null // Text input for Pune
        };

        // Batch options: depends on institute AND branch
        // For SITHYD: CSE/CSE-AIML get 2025-29, CST gets 2024-29
        // For SITNGP and SITPUNE: text input
        const getBatchOptions = (institute, branch) => {
            if (institute === 'SITHYD') {
                if (branch === 'CSE' || branch === 'CSE-AIML') {
                    return ['2025-29'];
                } else if (branch === 'CST') {
                    return ['2024-29'];
                }
            }
            // Nagpur and Pune use text input
            return null;
        };

        // Institute change handler - update branch and batch fields
        document.getElementById('institute').addEventListener('change', function () {
            const institute = this.value;
            const branchSelect = document.getElementById('branch');
            const branchInput = document.getElementById('branch-input');
            const branchDescription = document.getElementById('branch-description');
            const batchSelect = document.getElementById('batch');
            const batchInput = document.getElementById('batch-input');
            const batchDescription = document.getElementById('batch-description');

            // Reset batch to empty state
            batchSelect.innerHTML = '<option value="">Select Batch</option>';
            batchSelect.classList.remove('hidden');
            batchInput.classList.add('hidden');
            batchInput.value = '';
            batchSelect.required = true;
            batchInput.required = false;

            if (!institute) {
                // No institute selected - show empty dropdowns
                branchSelect.classList.remove('hidden');
                branchInput.classList.add('hidden');
                branchSelect.innerHTML = '<option value="">Select Branch</option>';
                branchSelect.required = true;
                branchInput.required = false;
                branchDescription.textContent = 'Select your branch/stream';
                batchDescription.textContent = 'Select your batch year';
                return;
            }

            const branches = branchOptions[institute];

            if (branches === null) {
                // Pune - show text inputs for both branch and batch
                branchSelect.classList.add('hidden');
                branchInput.classList.remove('hidden');
                branchSelect.required = false;
                branchInput.required = true;
                branchInput.value = '';
                branchDescription.textContent = 'Enter your branch/stream';

                // Batch also text input for Pune
                batchSelect.classList.add('hidden');
                batchInput.classList.remove('hidden');
                batchSelect.required = false;
                batchInput.required = true;
                batchDescription.textContent = 'Enter your batch year (e.g., 2023-27)';
            } else {
                // HYD or Nagpur - show dropdown with branch options
                branchSelect.classList.remove('hidden');
                branchInput.classList.add('hidden');
                branchSelect.required = true;
                branchInput.required = false;
                branchSelect.innerHTML = '<option value="">Select Branch</option>' +
                    branches.map(b => `<option value="${b.value}">${b.label}</option>`).join('');
                branchDescription.textContent = 'Select your branch/stream';

                // For Nagpur, batch is always text input
                if (institute === 'SITNGP') {
                    batchSelect.classList.add('hidden');
                    batchInput.classList.remove('hidden');
                    batchSelect.required = false;
                    batchInput.required = true;
                    batchDescription.textContent = 'Enter your batch year (e.g., 2021-25)';
                } else {
                    batchDescription.textContent = 'Select your batch year (choose branch first)';
                }
            }
        });

        // Branch change handler - update batch options for SITHYD
        document.getElementById('branch').addEventListener('change', function () {
            const institute = document.getElementById('institute').value;
            const branch = this.value;
            const batchSelect = document.getElementById('batch');
            const batchInput = document.getElementById('batch-input');
            const batchDescription = document.getElementById('batch-description');

            if (institute !== 'SITHYD') return; // Only SITHYD has branch-specific batches

            if (!branch) {
                batchSelect.innerHTML = '<option value="">Select Batch</option>';
                batchDescription.textContent = 'Select your batch year (choose branch first)';
                return;
            }

            const batchOpts = getBatchOptions(institute, branch);

            if (batchOpts) {
                batchSelect.classList.remove('hidden');
                batchInput.classList.add('hidden');
                batchSelect.required = true;
                batchInput.required = false;
                batchSelect.innerHTML = '<option value="">Select Batch</option>' +
                    batchOpts.map(opt => `<option value="${opt}">${opt}</option>`).join('');
                batchDescription.textContent = 'Select your batch year';
            } else {
                batchSelect.classList.add('hidden');
                batchInput.classList.remove('hidden');
                batchSelect.required = false;
                batchInput.required = true;
                batchDescription.textContent = 'Enter your batch year (e.g., 2023-27)';
            }
        });

        // Form submission handler
        document.getElementById('submit-form').addEventListener('submit', function (e) {
            e.preventDefault();

            // Gather form data
            const institute = document.getElementById('institute').value;
            const branchSelect = document.getElementById('branch');
            const branchInput = document.getElementById('branch-input');
            const branch = branchInput.classList.contains('hidden') ? branchSelect.value : branchInput.value;
            const batchSelect = document.getElementById('batch');
            const batchInput = document.getElementById('batch-input');
            const batch = batchInput.classList.contains('hidden') ? batchSelect.value : batchInput.value;
            const semester = document.getElementById('semester').value;
            const subjectName = document.getElementById('subject-name').value;
            const subjectCode = document.getElementById('subject-code').value;
            const examType = document.querySelector('input[name="exam-type"]:checked').value;
            const notes = document.getElementById('notes').value;

            // Validate
            if (!institute || !branch || !batch || !semester || !subjectName || !subjectCode) {
                alert('Please fill in all required fields.');
                return;
            }

            // Get institute display name
            const instituteNames = {
                'SITHYD': 'SIT Hyderabad',
                'SITNGP': 'SIT Nagpur',
                'SITPUNE': 'SIT Pune'
            };
            const instituteName = instituteNames[institute] || institute;

            // Build email subject
            const emailSubject = encodeURIComponent(`SIT Archive - Paper Submission: ${subjectName} (${subjectCode})`);

            // Build email body
            const emailBody = encodeURIComponent(`Hi SIT Archive Team,

I would like to submit the following question paper to the archive:

üìç PAPER DETAILS
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üèõÔ∏è Institute: ${instituteName}
üìö Branch: ${branch}
üë• Batch: ${batch}
üéì Semester: ${semester}

üìÑ SUBJECT INFORMATION
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìù Subject Name: ${subjectName}
üî¢ Subject Code: ${subjectCode}
üìå Exam Type: ${examType}

${notes ? `üìã ADDITIONAL NOTES\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n${notes}\n` : ''}
üìé ATTACHMENT
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚ö†Ô∏è Please find the question paper attached to this email.

Thank you for maintaining SIT Archive!

Best regards`);

            // Open email client
            const mailtoLink = `mailto:students.sit.archive@gmail.com?subject=${emailSubject}&body=${emailBody}`;
            window.location.href = mailtoLink;
        });

        // Mobile menu toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', function () {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Sync theme icons
        function updateToggleIcon(isDark) {
            const icon = document.getElementById('theme-icon');
            const iconMobile = document.getElementById('theme-icon-mobile');
            if (icon) icon.textContent = isDark ? 'light_mode' : 'dark_mode';
            if (iconMobile) iconMobile.textContent = isDark ? 'light_mode' : 'dark_mode';
        }
    </script>

    <!-- Animation Controller -->
    <script src="js/animations.js"></script>
</body>

</html>
